server:
  port: 8080 #9103 #server port dynamically assign : 0
  # spring boot rest exception message empty
  error:
    include-message: always
    include-binding-errors: on-param

spring:
  boot:
    admin:
      discovery:
        converter:
          management-context-path: /actuator
  cloud:
    loadbalancer:
      ribbon:
        enabled: false
    discovery:
      enabled: true
    gateway:
      default-filters: TokenRelay
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
      routes:
        - id: partners
        uri: lb://partner-service/
        predicates:
          - Path: /api/partners/**,/api/repas/**,/api/categories/**,/api/votes/**
        - id: organizations
        uri: lb://organization-service/
        predicates:
          - Path: /api/organizations/**,/api/contrats/**
        - id: auth
        uri: lb://auth-service/
        predicates:
          - Path: /api/auth/**,/api/users/**,/api/roles/**
        - id: order
        uri: lb://order-service/
        predicates:
          - Path: /api/orders/**
        - id: payment
        uri: lb://payment-service/
        predicates:
          - Path: /api/payments/**

#spring.cloud.gateway.routes[0].filters[0].name=filter
#spring.cloud.gateway.routes[0].predicates[1]=Path=/managers/**
#spring.cloud.gateway.routes[0].predicates[2]=Path=/categories/**

#spring.cloud.gateway.routes[0].filters[0].name=filter
#spring.cloud.gateway.routes[0].filters[0]=RewritePath=/partner/(?<path>.*), /$\{path}

#Exposition des endpoints avec actuator
#management.endpoints.web.exposure.include=*
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,beans,env

#Info
info:
  app:
    version: 1.0-Beta

#App Properties
evoucherlunch:
  jwt:
    secret: eVoucherLunchSecretKey
    expiration-time: 86400000
